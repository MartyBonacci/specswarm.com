---
interface Props {
  title: string;
  description: string;
  persona?: string; // e.g., "Developer", "Team Lead", "Startup Founder"
  outcome: string; // The successful outcome/result
  href?: string; // Optional link to learn more
  class?: string;
}

const {
  title,
  description,
  persona,
  outcome,
  href,
  class: className,
} = Astro.props;

const Component = href ? 'a' : 'div';
---

<Component
  href={href}
  class:list={[
    'flex flex-col gap-[var(--spacing-md)] p-[var(--spacing-lg)] bg-[var(--color-surface)] border border-[var(--color-border)] rounded-xl transition-all duration-[var(--duration-fast)] ease-out relative sm:p-[var(--spacing-md)] motion-reduce:transition-none',
    href && 'no-underline cursor-pointer hover:border-[var(--color-accent)] hover:shadow-[0_4px_16px_rgba(217,119,87,0.1)] hover:-translate-y-0.5 motion-reduce:hover:transform-none [&:hover_.arrow]:translate-x-1 motion-reduce:[&:hover_.arrow]:transform-none',
    className
  ]}
>
  {persona && (
    <div class="inline-block w-fit px-3 py-1.5 bg-[rgba(217,119,87,0.1)] text-[var(--color-accent)] text-[0.8125rem] font-semibold rounded-md uppercase tracking-wide">
      {persona}
    </div>
  )}

  <div class="flex flex-col gap-[var(--spacing-sm)] flex-1">
    <h3 class="text-xl sm:text-lg sm:pr-8 font-bold text-[var(--color-primary)] m-0">{title}</h3>
    <p class="text-[0.9375rem] sm:text-sm text-[var(--color-secondary)] leading-relaxed m-0">{description}</p>

    <div class="flex items-start gap-2 pt-[var(--spacing-sm)] mt-auto">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="16"
        height="16"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="text-[var(--color-accent)] flex-shrink-0 mt-0.5"
        aria-hidden="true"
      >
        <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
        <polyline points="22 4 12 14.01 9 11.01"></polyline>
      </svg>
      <span class="text-sm font-semibold text-[var(--color-primary)] leading-normal">{outcome}</span>
    </div>
  </div>

  {href && (
    <div class="arrow absolute top-[var(--spacing-lg)] right-[var(--spacing-lg)] text-[var(--color-secondary)] transition-transform duration-[var(--duration-fast)] ease-out sm:top-[var(--spacing-md)] sm:right-[var(--spacing-md)]" aria-hidden="true">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="20"
        height="20"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <line x1="5" y1="12" x2="19" y2="12"></line>
        <polyline points="12 5 19 12 12 19"></polyline>
      </svg>
    </div>
  )}
</Component>
