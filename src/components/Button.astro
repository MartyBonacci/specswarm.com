---
interface Props {
  href?: string;
  variant?: 'primary' | 'secondary' | 'ghost';
  size?: 'sm' | 'md' | 'lg';
  class?: string;
  [key: string]: any;
}

const {
  href,
  variant = 'primary',
  size = 'md',
  class: className,
  ...rest
} = Astro.props;

const Component = href ? 'a' : 'button';

// Base classes (all buttons)
const baseClasses = 'inline-flex items-center justify-center gap-2 font-semibold no-underline border-0 rounded-lg cursor-pointer transition-all duration-[var(--duration-fast)] ease-out whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed focus-visible:outline-2 focus-visible:outline-[var(--color-accent)] focus-visible:outline-offset-2 motion-reduce:transition-none motion-reduce:hover:transform-none';

// Size variants
const sizeClasses = {
  sm: 'px-4 py-2 text-sm',
  md: 'px-6 py-3 text-[0.9375rem]',
  lg: 'px-8 py-4 text-[1.0625rem]'
};

// Button variant styles
const variantClasses = {
  primary: 'bg-[var(--color-accent)] !text-white hover:bg-[rgba(217,119,87,0.9)] hover:not-disabled:-translate-y-px hover:not-disabled:shadow-[0_4px_12px_rgba(217,119,87,0.2)] active:not-disabled:translate-y-0',
  secondary: 'border-4 border-[var(--color-primary)] bg-[var(--color-surface)] text-[var(--color-primary)] border border-[var(--color-border)] hover:not-disabled:border-[var(--color-accent)] hover:not-disabled:bg-[var(--color-background)] active:not-disabled:bg-[var(--color-surface)]',
  ghost: 'bg-transparent text-[var(--color-secondary)] hover:not-disabled:text-[var(--color-primary)] hover:not-disabled:bg-[var(--color-background)] active:not-disabled:bg-transparent'
};
---

<Component
  href={href}
  class:list={[
    baseClasses,
    sizeClasses[size],
    variantClasses[variant],
    className
  ]}
  {...rest}
>
  <slot />
</Component>
