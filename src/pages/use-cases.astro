---
import BaseLayout from '../layouts/BaseLayout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import Button from '../components/Button.astro';
import ScenarioCard from '../components/ScenarioCard.astro';

const scenarios = [
  {
    title: 'New Feature Development',
    persona: 'Developer',
    description: 'Building a complete authentication system with tech stack enforcement. Prevents AI from suggesting deprecated libraries or incompatible patterns.',
    outcome: 'Feature completed in 4-5 hours instead of 3-5 days, with 85+ quality score and zero tech debt introduced.',
  },
  {
    title: 'Bug Fixing with Regression Tests',
    persona: 'Team Lead',
    description: 'Critical production bug affecting cart totals. Need test-first approach to prevent recurrence and validate fix across all scenarios.',
    outcome: 'Regression test created automatically, bug fixed and verified, merged with confidence in 2 hours.',
  },
  {
    title: 'Framework Migration',
    persona: 'Architect',
    description: 'Upgrading from React 18 to React 19. Breaking changes need systematic analysis, codemods, and validation across large codebase.',
    outcome: 'Automated breaking change analysis, guided migration with automated refactoring, full test suite passing.',
  },
  {
    title: 'Code Quality Improvement',
    persona: 'Senior Developer',
    description: 'Authentication module has grown complex over time. Need to refactor while maintaining backwards compatibility and 80%+ test coverage.',
    outcome: 'Metrics-driven refactoring with behavior preservation, improved quality score from 72 to 89.',
  },
];

const caseStudyMetrics = [
  { label: 'Tasks Completed', value: '76/76', sublabel: '100% completion rate' },
  { label: 'Test Pass Rate', value: '96.3%', sublabel: '131 of 136 tests passing' },
  { label: 'Test Execution', value: '3.27s', sublabel: 'Fast feedback loop' },
  { label: 'Time Savings', value: '85-90%', sublabel: '4-5 hours vs 3-5 days' },
];

const caseStudyDetails = [
  '✅ 3,500+ lines of test code generated (unit, integration, browser)',
  '✅ 1,530 lines of comprehensive documentation created',
  '✅ Tech stack drift prevented (blocked Jest, enforced Vitest)',
  '✅ Complex branch hierarchy validated (main → develop → sprint-4 → feature)',
  '✅ Silent autonomous execution (no mid-phase pausing)',
  '✅ Production-ready code quality maintained',
];
---

<BaseLayout
  title="Use Cases - SpecSwarm"
  description="Real-world examples of SpecSwarm in action. Feature 015 case study: 76/76 tasks completed, 96.3% test pass rate, 85-90% time savings in production React + Redux + Three.js application."
>
  <Header />

  <main>
    <!-- Hero Section -->
    <section class="bg-[var(--color-background)] border-b border-[var(--color-border)] py-[var(--spacing-section-md)]">
      <div class="content-max">
        <div class="max-w-[48rem] mx-auto text-center">
          <h1 class="text-[var(--font-size-display-l)] font-bold text-[var(--color-primary)] m-0 mb-[var(--spacing-md)] md:text-[var(--font-size-display-m)]">Real-World Results</h1>
          <p class="text-[var(--font-size-paragraph-l)] text-[var(--color-secondary)] leading-relaxed m-0">
            Production-validated examples showing 85-90% time savings with maintained quality standards
          </p>
        </div>
      </div>
    </section>

    <!-- Featured Case Study -->
    <section class="bg-[var(--color-surface)] py-[var(--spacing-section-xl)]">
      <div class="content-max">
        <div class="text-center max-w-[48rem] mx-auto mb-[var(--spacing-xl)]">
          <div class="inline-block py-2 px-4 bg-[var(--color-accent)] text-white text-[0.8125rem] font-bold uppercase tracking-wide rounded-md mb-[var(--spacing-md)]">Featured Case Study</div>
          <h2 class="text-[var(--font-size-display-m)] font-bold text-[var(--color-primary)] m-0 mb-[var(--spacing-xs)]">Feature 015: Testing Infrastructure</h2>
          <p class="text-[var(--font-size-paragraph-m)] text-[var(--color-secondary)] m-0">
            React 19 + Redux + Three.js snowboard customization app (customcult2)
          </p>
        </div>

        <div class="grid grid-cols-[repeat(auto-fit,minmax(min(100%,12rem),1fr))] gap-[var(--spacing-md)] mb-[var(--spacing-xl)] md:grid-cols-2 sm:grid-cols-1">
          {caseStudyMetrics.map((metric) => (
            <div class="text-center p-[var(--spacing-lg)] bg-[var(--color-background)] border border-[var(--color-border)] rounded-xl">
              <div class="text-[2.5rem] font-bold text-[var(--color-accent)] leading-none mb-2">{metric.value}</div>
              <div class="text-sm font-semibold text-[var(--color-primary)] mb-1">{metric.label}</div>
              <div class="text-[0.8125rem] text-[var(--color-secondary)]">{metric.sublabel}</div>
            </div>
          ))}
        </div>

        <div class="max-w-[56rem] mx-auto mb-[var(--spacing-xl)]">
          <h3 class="text-2xl font-bold text-[var(--color-primary)] m-0 mb-[var(--spacing-md)]">What Was Built</h3>
          <p class="text-[var(--font-size-paragraph-m)] text-[var(--color-secondary)] leading-[1.7] m-0">
            Complete testing infrastructure for a complex 3D product configurator. Implemented comprehensive test suite with unit tests (Vitest), integration tests (React Testing Library), and browser automation (Playwright) for Three.js canvas interactions.
          </p>
        </div>

        <div class="max-w-[56rem] mx-auto mb-[var(--spacing-xl)]">
          <h3 class="text-2xl font-bold text-[var(--color-primary)] m-0 mb-[var(--spacing-md)]">What Was Validated</h3>
          <ul class="list-none p-0 m-0 grid grid-cols-[repeat(auto-fit,minmax(min(100%,18rem),1fr))] gap-3">
            {caseStudyDetails.map((detail) => (
              <li class="text-[0.9375rem] text-[var(--color-secondary)] leading-relaxed">{detail}</li>
            ))}
          </ul>
        </div>

        <div class="max-w-[56rem] mx-auto mb-[var(--spacing-xl)]">
          <h3 class="text-2xl font-bold text-[var(--color-primary)] m-0 mb-[var(--spacing-md)]">Time Comparison</h3>
          <div class="grid grid-cols-[repeat(auto-fit,minmax(min(100%,20rem),1fr))] gap-[var(--spacing-lg)] md:grid-cols-1">
            <div class="p-[var(--spacing-lg)] bg-[rgba(217,119,87,0.05)] border border-[var(--color-border)] rounded-xl">
              <div class="text-base font-bold text-[var(--color-primary)] mb-[var(--spacing-md)]">Manual Approach</div>
              <div class="flex flex-col gap-2 mb-[var(--spacing-md)]">
                <div class="flex justify-between text-sm text-[var(--color-secondary)]">
                  <span>Planning</span>
                  <span class="font-semibold text-[var(--color-primary)]">1-2 hours</span>
                </div>
                <div class="flex justify-between text-sm text-[var(--color-secondary)]">
                  <span>Implementation</span>
                  <span class="font-semibold text-[var(--color-primary)]">2-3 days</span>
                </div>
                <div class="flex justify-between text-sm text-[var(--color-secondary)]">
                  <span>Test Writing</span>
                  <span class="font-semibold text-[var(--color-primary)]">1-2 days</span>
                </div>
                <div class="flex justify-between text-sm text-[var(--color-secondary)]">
                  <span>Documentation</span>
                  <span class="font-semibold text-[var(--color-primary)]">4-6 hours</span>
                </div>
              </div>
              <div class="pt-[var(--spacing-sm)] border-t-2 border-[var(--color-border)] text-base font-bold text-[var(--color-primary)]">Total: 3-5 days</div>
            </div>

            <div class="p-[var(--spacing-lg)] bg-[var(--color-background)] border border-[var(--color-accent)] rounded-xl">
              <div class="text-base font-bold text-[var(--color-primary)] mb-[var(--spacing-md)]">SpecSwarm Autonomous</div>
              <div class="flex flex-col gap-2 mb-[var(--spacing-md)]">
                <div class="flex justify-between text-sm text-[var(--color-secondary)]">
                  <span>Planning</span>
                  <span class="font-semibold text-[var(--color-primary)]">15 min</span>
                </div>
                <div class="flex justify-between text-sm text-[var(--color-secondary)]">
                  <span>Implementation</span>
                  <span class="font-semibold text-[var(--color-primary)]">3-4 hours</span>
                </div>
                <div class="flex justify-between text-sm text-[var(--color-secondary)]">
                  <span>Test Writing</span>
                  <span class="font-semibold text-[var(--color-primary)]">Included</span>
                </div>
                <div class="flex justify-between text-sm text-[var(--color-secondary)]">
                  <span>Documentation</span>
                  <span class="font-semibold text-[var(--color-primary)]">Included</span>
                </div>
              </div>
              <div class="pt-[var(--spacing-sm)] border-t-2 border-[var(--color-border)] text-base font-bold text-[var(--color-accent)]">Total: 4-5 hours (85-90% savings)</div>
            </div>
          </div>
        </div>

        <div class="max-w-[56rem] mx-auto">
          <h3 class="text-2xl font-bold text-[var(--color-primary)] m-0 mb-[var(--spacing-md)]">Commands Used</h3>
          <div class="p-[var(--spacing-md)] bg-[var(--color-background)] border border-[var(--color-border)] rounded-lg mb-[var(--spacing-sm)]">
            <code class="font-['Fira_Code',monospace] text-sm text-[var(--color-primary)] leading-[1.8]">
              /specswarm:orchestrate-feature "Implement comprehensive testing..." --validate
              <br/>
              # [3-4 hours autonomous execution]
              <br/>
              /specswarm:complete
            </code>
          </div>
          <p class="text-[0.9375rem] text-[var(--color-secondary)] text-center m-0">
            <strong class="text-[var(--color-accent)]">2 commands total</strong> vs. 50+ commands in manual workflow
          </p>
        </div>
      </div>
    </section>

    <!-- Common Scenarios -->
    <section class="py-[var(--spacing-section-lg)]">
      <div class="content-max">
        <div class="text-center max-w-[48rem] mx-auto mb-[var(--spacing-xl)]">
          <h2 class="text-[var(--font-size-display-m)] font-bold text-[var(--color-primary)] m-0 mb-[var(--spacing-sm)]">Common Use Cases</h2>
          <p class="text-[var(--font-size-paragraph-m)] text-[var(--color-secondary)] leading-relaxed m-0">
            How developers use SpecSwarm across different types of work
          </p>
        </div>

        <div class="grid grid-cols-[repeat(auto-fit,minmax(min(100%,20rem),1fr))] gap-[var(--spacing-lg)] sm:grid-cols-1">
          {scenarios.map((scenario) => (
            <ScenarioCard
              title={scenario.title}
              persona={scenario.persona}
              description={scenario.description}
              outcome={scenario.outcome}
            />
          ))}
        </div>
      </div>
    </section>

    <!-- Workflow Decision Tree -->
    <section class="bg-[var(--color-surface)] py-[var(--spacing-section-lg)]">
      <div class="content-max">
        <div class="text-center max-w-[48rem] mx-auto mb-[var(--spacing-xl)]">
          <h2 class="text-[var(--font-size-display-m)] font-bold text-[var(--color-primary)] m-0 mb-[var(--spacing-sm)]">When to Use Which Workflow</h2>
          <p class="text-[var(--font-size-paragraph-m)] text-[var(--color-secondary)] leading-relaxed m-0">
            Choose the right approach for your situation
          </p>
        </div>

        <div class="grid grid-cols-[repeat(auto-fit,minmax(min(100%,22rem),1fr))] gap-[var(--spacing-xl)] md:grid-cols-1">
          <div class="p-[var(--spacing-lg)] bg-[var(--color-background)] border border-[var(--color-border)] rounded-xl">
            <h3 class="text-xl font-bold text-[var(--color-primary)] m-0 mb-[var(--spacing-md)]">Use Simplified Workflow When:</h3>
            <ul class="list-none p-0 m-0 mb-[var(--spacing-md)] flex flex-col gap-3">
              <li class="text-[0.9375rem] text-[var(--color-secondary)] leading-relaxed pl-6 relative before:content-['→'] before:absolute before:left-0 before:text-[var(--color-accent)] before:font-bold">Building straightforward features with clear requirements</li>
              <li class="text-[0.9375rem] text-[var(--color-secondary)] leading-relaxed pl-6 relative before:content-['→'] before:absolute before:left-0 before:text-[var(--color-accent)] before:font-bold">You trust AI with autonomous execution</li>
              <li class="text-[0.9375rem] text-[var(--color-secondary)] leading-relaxed pl-6 relative before:content-['→'] before:absolute before:left-0 before:text-[var(--color-accent)] before:font-bold">Speed is the priority (70% fewer commands)</li>
              <li class="text-[0.9375rem] text-[var(--color-secondary)] leading-relaxed pl-6 relative before:content-['→'] before:absolute before:left-0 before:text-[var(--color-accent)] before:font-bold">Feature fits within established patterns</li>
              <li class="text-[0.9375rem] text-[var(--color-secondary)] leading-relaxed pl-6 relative before:content-['→'] before:absolute before:left-0 before:text-[var(--color-accent)] before:font-bold">Tech stack is well-defined and enforced</li>
            </ul>
            <div class="p-[var(--spacing-sm)] bg-[rgba(217,119,87,0.1)] rounded-md text-sm text-[var(--color-secondary)] leading-relaxed">
              <strong class="text-[var(--color-primary)]">Example:</strong> "Add user profile page with avatar upload"
              <br/>
              <code class="text-[0.8125rem] text-[var(--color-accent)] bg-[rgba(217,119,87,0.15)] px-1.5 py-0.5 rounded">/specswarm:build "..." --validate</code> → <code class="text-[0.8125rem] text-[var(--color-accent)] bg-[rgba(217,119,87,0.15)] px-1.5 py-0.5 rounded">/specswarm:ship</code>
            </div>
          </div>

          <div class="p-[var(--spacing-lg)] bg-[var(--color-background)] border border-[var(--color-border)] rounded-xl">
            <h3 class="text-xl font-bold text-[var(--color-primary)] m-0 mb-[var(--spacing-md)]">Use Granular Workflow When:</h3>
            <ul class="list-none p-0 m-0 mb-[var(--spacing-md)] flex flex-col gap-3">
              <li class="text-[0.9375rem] text-[var(--color-secondary)] leading-relaxed pl-6 relative before:content-['→'] before:absolute before:left-0 before:text-[var(--color-accent)] before:font-bold">Complex architectural changes need review</li>
              <li class="text-[0.9375rem] text-[var(--color-secondary)] leading-relaxed pl-6 relative before:content-['→'] before:absolute before:left-0 before:text-[var(--color-accent)] before:font-bold">Multiple stakeholders need sign-off at each phase</li>
              <li class="text-[0.9375rem] text-[var(--color-secondary)] leading-relaxed pl-6 relative before:content-['→'] before:absolute before:left-0 before:text-[var(--color-accent)] before:font-bold">Learning SpecSwarm for the first time</li>
              <li class="text-[0.9375rem] text-[var(--color-secondary)] leading-relaxed pl-6 relative before:content-['→'] before:absolute before:left-0 before:text-[var(--color-accent)] before:font-bold">Experimental features with high uncertainty</li>
              <li class="text-[0.9375rem] text-[var(--color-secondary)] leading-relaxed pl-6 relative before:content-['→'] before:absolute before:left-0 before:text-[var(--color-accent)] before:font-bold">Need to review planning before implementation</li>
            </ul>
            <div class="p-[var(--spacing-sm)] bg-[rgba(217,119,87,0.1)] rounded-md text-sm text-[var(--color-secondary)] leading-relaxed">
              <strong class="text-[var(--color-primary)]">Example:</strong> "Migrate from Redux to React Router v7 state management"
              <br/>
              <code class="text-[0.8125rem] text-[var(--color-accent)] bg-[rgba(217,119,87,0.15)] px-1.5 py-0.5 rounded">/specswarm:specify</code> → <code class="text-[0.8125rem] text-[var(--color-accent)] bg-[rgba(217,119,87,0.15)] px-1.5 py-0.5 rounded">/specswarm:clarify</code> → <code class="text-[0.8125rem] text-[var(--color-accent)] bg-[rgba(217,119,87,0.15)] px-1.5 py-0.5 rounded">/specswarm:plan</code> → ...
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- CTA Section -->
    <section class="bg-[var(--color-background)] py-[var(--spacing-section-xl)]">
      <div class="content-max">
        <div class="max-w-[48rem] mx-auto text-center flex flex-col items-center gap-[var(--spacing-lg)]">
          <h2 class="text-[var(--font-size-display-m)] font-bold text-[var(--color-primary)] m-0">Start Your Own Success Story</h2>
          <p class="text-[var(--font-size-paragraph-m)] text-[var(--color-secondary)] leading-relaxed m-0">
            See similar results in your own projects. Install SpecSwarm and build your first feature with tech stack enforcement and quality gates.
          </p>
          <div class="flex gap-[var(--spacing-md)] flex-wrap justify-center md:flex-col md:w-full [&>*]:md:w-full">
            <Button href="/get-started" variant="primary" size="lg">
              Get Started Now
            </Button>
            <Button
              href="https://github.com/MartyBonacci/specswarm/blob/main/CHANGELOG.md"
              variant="secondary"
              size="lg"
            >
              Read Full Changelog
            </Button>
          </div>
        </div>
      </div>
    </section>
  </main>

  <Footer />
</BaseLayout>
