---
import BaseLayout from '../layouts/BaseLayout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import Button from '../components/Button.astro';
import CodeBlock from '../components/CodeBlock.astro';

const installCode = `/plugin https://github.com/MartyBonacci/specswarm
/plugin install specswarm`;

const initCode = `/specswarm:init

# This creates 3 foundation files:
# - .specswarm/constitution.md (coding principles)
# - .specswarm/tech-stack.md (approved technologies)
# - .specswarm/quality-standards.md (quality gates)`;

const buildCode = `/specswarm:build "Add user authentication with email/password" --validate

# Answer clarification questions
# Autonomous execution: spec ‚Üí plan ‚Üí tasks ‚Üí implementation ‚Üí quality`;

const shipCode = `/specswarm:ship

# Quality-gated merge to parent branch`;

const steps = [
  {
    number: 1,
    title: 'Install SpecSwarm',
    description: 'Add SpecSwarm to your Claude Code environment. Takes about 30 seconds.',
    code: installCode,
    lang: 'bash',
  },
  {
    number: 2,
    title: 'Initialize Your Project',
    description: 'Set up project constitution, tech stack, and quality standards. Auto-detects from package.json.',
    code: initCode,
    lang: 'bash',
  },
  {
    number: 3,
    title: 'Build Your First Feature',
    description: 'Describe your feature in natural language. SpecSwarm handles everything else with tech stack enforcement.',
    code: buildCode,
    lang: 'bash',
  },
  {
    number: 4,
    title: 'Ship with Quality Gates',
    description: 'Merge to parent branch with quality validation. Blocks if quality falls below your standards.',
    code: shipCode,
    lang: 'bash',
  },
];
---

<BaseLayout
  title="Get Started - SpecSwarm"
  description="Install SpecSwarm in 5 minutes and build your first feature with tech stack enforcement and quality gates. Complete tutorial from installation to first ship."
>
  <Header />

  <main>
    <!-- Hero Section -->
    <section class="page-hero section-spacing-md">
      <div class="content-max">
        <div class="hero-content">
          <h1 class="page-title">Get Started in 5 Minutes</h1>
          <p class="page-description">
            From installation to your first shipped feature. Complete tutorial with copy-paste examples.
          </p>
        </div>
      </div>
    </section>

    <!-- Prerequisites -->
    <section class="prerequisites section-spacing-md">
      <div class="content-max">
        <div class="prereqs-content">
          <h2 class="prereqs-title">Before You Start</h2>
          <div class="prereqs-grid">
            <div class="prereq-item">
              <div class="prereq-icon">‚úÖ</div>
              <div class="prereq-text">
                <strong>Git Repository</strong>
                <p>Initialized with at least one commit</p>
              </div>
            </div>
            <div class="prereq-item">
              <div class="prereq-icon">‚úÖ</div>
              <div class="prereq-text">
                <strong>Project Structure</strong>
                <p>src/, package.json, or your framework's structure</p>
              </div>
            </div>
            <div class="prereq-item">
              <div class="prereq-icon">‚úÖ</div>
              <div class="prereq-text">
                <strong>Tech Stack</strong>
                <p>Established framework (React, Vue, Next.js, Astro, etc.)</p>
              </div>
            </div>
            <div class="prereq-item">
              <div class="prereq-icon">‚úÖ</div>
              <div class="prereq-text">
                <strong>Claude Code</strong>
                <p>Installed and initialized with /init</p>
              </div>
            </div>
          </div>
          <div class="prereqs-note">
            <p>
              <strong>Starting from scratch?</strong> Use your framework's official CLI first (e.g., <code>npm create vite@latest</code>), then return here.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Tutorial Steps -->
    <section class="tutorial section-spacing-xl">
      <div class="content-max">
        <div class="tutorial-steps">
          {steps.map((step) => (
            <div class="tutorial-step">
              <div class="step-header">
                <div class="step-number">{step.number}</div>
                <div class="step-info">
                  <h3 class="step-title">{step.title}</h3>
                  <p class="step-description">{step.description}</p>
                </div>
              </div>
              <div class="step-code">
                <CodeBlock
                  code={step.code}
                  lang={step.lang}
                />
              </div>
            </div>
          ))}
        </div>
      </div>
    </section>

    <!-- What's Next -->
    <section class="next-steps section-spacing-lg">
      <div class="content-max">
        <div class="section-header">
          <h2 class="section-title">What's Next?</h2>
          <p class="section-description">
            You've shipped your first feature. Here's where to go from here.
          </p>
        </div>

        <div class="next-steps-grid">
          <div class="next-step-card">
            <h3 class="card-title">üìö Explore All Features</h3>
            <p class="card-description">
              Learn about tech stack enforcement, quality validation, autonomous orchestration, and all 28 commands.
            </p>
            <Button href="/features" variant="secondary">
              View Features
            </Button>
          </div>

          <div class="next-step-card">
            <h3 class="card-title">üîß Read the Documentation</h3>
            <p class="card-description">
              Comprehensive command reference, configuration options, and advanced workflows for complex features.
            </p>
            <Button href="/docs" variant="secondary">
              Read Docs
            </Button>
          </div>

          <div class="next-step-card">
            <h3 class="card-title">üìñ Learn from Real Examples</h3>
            <p class="card-description">
              See how Feature 015 achieved 76/76 tasks completed and 96.3% test pass rate in a production React app.
            </p>
            <Button href="/use-cases" variant="secondary">
              View Use Cases
            </Button>
          </div>

          <div class="next-step-card">
            <h3 class="card-title">‚öôÔ∏è Configure Your Project</h3>
            <p class="card-description">
              Fine-tune quality thresholds, performance budgets, and tech stack rules for your specific needs.
            </p>
            <Button
              href="https://github.com/MartyBonacci/specswarm#configuration-optional"
              variant="secondary"
            >
              Configuration Guide
            </Button>
          </div>
        </div>
      </div>
    </section>

    <!-- Common Questions -->
    <section class="faq section-spacing-lg">
      <div class="content-max">
        <div class="section-header">
          <h2 class="section-title">Common Questions</h2>
        </div>

        <div class="faq-grid">
          <div class="faq-item">
            <h3 class="faq-question">When should I use simplified vs. granular workflow?</h3>
            <p class="faq-answer">
              Use simplified (<code>/specswarm:build</code> ‚Üí <code>/specswarm:ship</code>) for 90% of features. Switch to granular (<code>/specswarm:specify</code> ‚Üí <code>/specswarm:clarify</code> ‚Üí <code>/specswarm:plan</code> ‚Üí ...) when you need step-by-step review for complex architectural changes.
            </p>
          </div>

          <div class="faq-item">
            <h3 class="faq-question">How does tech stack enforcement work?</h3>
            <p class="faq-answer">
              Define approved technologies in <code>.specswarm/tech-stack.md</code>. During planning, SpecSwarm validates every library and pattern against your stack. If it detects prohibited technologies or drift, it suggests approved alternatives.
            </p>
          </div>

          <div class="faq-item">
            <h3 class="faq-question">What does the --validate flag do?</h3>
            <p class="faq-answer">
              Adds Playwright browser automation to test your feature in a real browser. Runs alongside implementation to catch UI bugs early. Optional but recommended for features with user interfaces.
            </p>
          </div>

          <div class="faq-item">
            <h3 class="faq-question">Can I use SpecSwarm with existing projects?</h3>
            <p class="faq-answer">
              Yes! SpecSwarm works with any existing git repository. Run <code>/specswarm:init</code> to set up project configuration, then start building features. It integrates with your existing workflow seamlessly.
            </p>
          </div>

          <div class="faq-item">
            <h3 class="faq-question">What if quality score is below threshold?</h3>
            <p class="faq-answer">
              <code>/specswarm:ship</code> will block the merge and show clear remediation steps. Common fixes: add missing tests, reduce bundle size, fix TypeScript errors. Re-run <code>/specswarm:ship</code> when ready.
            </p>
          </div>

          <div class="faq-item">
            <h3 class="faq-question">How do I get help?</h3>
            <p class="faq-answer">
              Check the <a href="/docs">documentation</a>, browse <a href="https://github.com/MartyBonacci/specswarm/discussions" target="_blank" rel="noopener noreferrer">GitHub Discussions</a>, or open an <a href="https://github.com/MartyBonacci/specswarm/issues" target="_blank" rel="noopener noreferrer">issue</a>. The community is active and responsive.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- CTA Section -->
    <section class="cta section-spacing-xl">
      <div class="content-max">
        <div class="cta-content">
          <h2 class="cta-title">Questions? Feedback?</h2>
          <p class="cta-description">
            Join the community on GitHub to share your experience, ask questions, or contribute to SpecSwarm development.
          </p>
          <div class="cta-buttons">
            <Button
              href="https://github.com/MartyBonacci/specswarm"
              variant="primary"
              size="lg"
            >
              View on GitHub
            </Button>
            <Button
              href="https://github.com/MartyBonacci/specswarm/discussions"
              variant="secondary"
              size="lg"
            >
              Join Discussions
            </Button>
          </div>
        </div>
      </div>
    </section>
  </main>

  <Footer />
</BaseLayout>

<style>
  /* Page Hero */
  .page-hero {
    background-color: var(--color-background);
    border-bottom: 1px solid var(--color-border);
  }

  .hero-content {
    max-width: 48rem;
    margin: 0 auto;
    text-align: center;
  }

  .page-title {
    font-size: var(--font-size-display-l);
    font-weight: 700;
    color: var(--color-primary);
    margin: 0 0 var(--spacing-md);
  }

  .page-description {
    font-size: var(--font-size-paragraph-l);
    color: var(--color-secondary);
    line-height: 1.6;
    margin: 0;
  }

  /* Prerequisites */
  .prereqs-content {
    max-width: 56rem;
    margin: 0 auto;
  }

  .prereqs-title {
    font-size: var(--font-size-display-m);
    font-weight: 700;
    color: var(--color-primary);
    text-align: center;
    margin: 0 0 var(--spacing-xl);
  }

  .prereqs-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(min(100%, 14rem), 1fr));
    gap: var(--spacing-md);
    margin-bottom: var(--spacing-lg);
  }

  .prereq-item {
    display: flex;
    gap: var(--spacing-sm);
    padding: var(--spacing-md);
    background-color: var(--color-surface);
    border: 1px solid var(--color-border);
    border-radius: 0.5rem;
  }

  .prereq-icon {
    font-size: 1.5rem;
    flex-shrink: 0;
  }

  .prereq-text strong {
    display: block;
    font-size: 0.9375rem;
    font-weight: 600;
    color: var(--color-primary);
    margin-bottom: 0.25rem;
  }

  .prereq-text p {
    font-size: 0.875rem;
    color: var(--color-secondary);
    margin: 0;
  }

  .prereqs-note {
    padding: var(--spacing-md);
    background-color: rgba(217, 119, 87, 0.1);
    border-radius: 0.5rem;
    text-align: center;
  }

  .prereqs-note p {
    font-size: 0.9375rem;
    color: var(--color-secondary);
    margin: 0;
  }

  .prereqs-note strong {
    color: var(--color-primary);
  }

  .prereqs-note code {
    font-size: 0.875rem;
    color: var(--color-accent);
    background-color: rgba(217, 119, 87, 0.15);
    padding: 0.125rem 0.375rem;
    border-radius: 0.25rem;
  }

  /* Tutorial Steps */
  .tutorial-steps {
    max-width: 56rem;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    gap: var(--spacing-xl);
  }

  .tutorial-step {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-md);
  }

  .step-header {
    display: flex;
    gap: var(--spacing-md);
    align-items: flex-start;
  }

  .step-number {
    flex-shrink: 0;
    width: 3rem;
    height: 3rem;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: var(--color-accent);
    color: white;
    font-size: 1.5rem;
    font-weight: 700;
    border-radius: 50%;
  }

  .step-info {
    flex: 1;
  }

  .step-title {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--color-primary);
    margin: 0 0 var(--spacing-xs);
  }

  .step-description {
    font-size: 0.9375rem;
    color: var(--color-secondary);
    line-height: 1.6;
    margin: 0;
  }

  .step-code {
    padding-left: calc(3rem + var(--spacing-md));
  }

  /* Section Headers */
  .section-header {
    text-align: center;
    max-width: 48rem;
    margin: 0 auto var(--spacing-xl);
  }

  .section-title {
    font-size: var(--font-size-display-m);
    font-weight: 700;
    color: var(--color-primary);
    margin: 0 0 var(--spacing-sm);
  }

  .section-description {
    font-size: var(--font-size-paragraph-m);
    color: var(--color-secondary);
    line-height: 1.6;
    margin: 0;
  }

  /* Next Steps */
  .next-steps {
    background-color: var(--color-surface);
  }

  .next-steps-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(min(100%, 16rem), 1fr));
    gap: var(--spacing-lg);
  }

  .next-step-card {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-sm);
    padding: var(--spacing-lg);
    background-color: var(--color-background);
    border: 1px solid var(--color-border);
    border-radius: 0.75rem;
  }

  .card-title {
    font-size: 1.125rem;
    font-weight: 700;
    color: var(--color-primary);
    margin: 0;
  }

  .card-description {
    font-size: 0.9375rem;
    color: var(--color-secondary);
    line-height: 1.6;
    margin: 0;
    flex: 1;
  }

  /* FAQ */
  .faq-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(min(100%, 20rem), 1fr));
    gap: var(--spacing-lg);
  }

  .faq-item {
    padding: var(--spacing-lg);
    background-color: var(--color-surface);
    border: 1px solid var(--color-border);
    border-radius: 0.75rem;
  }

  .faq-question {
    font-size: 1rem;
    font-weight: 700;
    color: var(--color-primary);
    margin: 0 0 var(--spacing-sm);
  }

  .faq-answer {
    font-size: 0.9375rem;
    color: var(--color-secondary);
    line-height: 1.6;
    margin: 0;
  }

  .faq-answer code {
    font-size: 0.875rem;
    color: var(--color-accent);
    background-color: rgba(217, 119, 87, 0.1);
    padding: 0.125rem 0.375rem;
    border-radius: 0.25rem;
  }

  .faq-answer a {
    color: var(--color-accent);
    text-decoration: underline;
  }

  /* CTA Section */
  .cta {
    background-color: var(--color-background);
  }

  .cta-content {
    max-width: 48rem;
    margin: 0 auto;
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--spacing-lg);
  }

  .cta-title {
    font-size: var(--font-size-display-m);
    font-weight: 700;
    color: var(--color-primary);
    margin: 0;
  }

  .cta-description {
    font-size: var(--font-size-paragraph-m);
    color: var(--color-secondary);
    line-height: 1.6;
    margin: 0;
  }

  .cta-buttons {
    display: flex;
    gap: var(--spacing-md);
    flex-wrap: wrap;
    justify-content: center;
  }

  /* Mobile Responsive */
  @media (max-width: 768px) {
    .page-title {
      font-size: var(--font-size-display-m);
    }

    .step-header {
      flex-direction: column;
    }

    .step-number {
      width: 2.5rem;
      height: 2.5rem;
      font-size: 1.25rem;
    }

    .step-code {
      padding-left: 0;
    }

    .prereqs-grid {
      grid-template-columns: 1fr;
    }

    .cta-buttons {
      flex-direction: column;
      width: 100%;
    }

    .cta-buttons :global(a) {
      width: 100%;
    }
  }
</style>
