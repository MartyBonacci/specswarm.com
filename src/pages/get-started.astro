---
import BaseLayout from '../layouts/BaseLayout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import Button from '../components/Button.astro';
import CodeBlock from '../components/CodeBlock.astro';

const installCode = `/plugin https://github.com/MartyBonacci/specswarm
/plugin install specswarm`;

const initCode = `/specswarm:init

# This creates 3 foundation files:
# - .specswarm/constitution.md (coding principles)
# - .specswarm/tech-stack.md (approved technologies)
# - .specswarm/quality-standards.md (quality gates)`;

const buildCode = `/specswarm:build "Add user authentication with email/password" --validate

# Answer clarification questions
# Autonomous execution: spec ‚Üí plan ‚Üí tasks ‚Üí implementation ‚Üí quality`;

const shipCode = `/specswarm:ship

# Quality-gated merge to parent branch`;

const steps = [
  {
    number: 1,
    title: 'Install SpecSwarm',
    description: 'Add SpecSwarm to your Claude Code environment. Takes about 30 seconds.',
    code: installCode,
    lang: 'bash',
  },
  {
    number: 2,
    title: 'Initialize Your Project',
    description: 'Set up project constitution, tech stack, and quality standards. Auto-detects from package.json.',
    code: initCode,
    lang: 'bash',
  },
  {
    number: 3,
    title: 'Build Your First Feature',
    description: 'Describe your feature in natural language. SpecSwarm handles everything else with tech stack enforcement.',
    code: buildCode,
    lang: 'bash',
  },
  {
    number: 4,
    title: 'Ship with Quality Gates',
    description: 'Merge to parent branch with quality validation. Blocks if quality falls below your standards.',
    code: shipCode,
    lang: 'bash',
  },
];
---

<BaseLayout
  title="Get Started - SpecSwarm"
  description="Install SpecSwarm in 5 minutes and build your first feature with tech stack enforcement and quality gates. Complete tutorial from installation to first ship."
>
  <Header />

  <main>
    <!-- Hero Section -->
    <section class="bg-[var(--color-background)] border-b border-[var(--color-border)] py-[var(--spacing-section-md)]">
      <div class="content-max">
        <div class="max-w-[48rem] mx-auto text-center">
          <h1 class="text-[var(--font-size-display-l)] font-bold text-[var(--color-primary)] m-0 mb-[var(--spacing-md)] md:text-[var(--font-size-display-m)]">Get Started in 5 Minutes</h1>
          <p class="text-[var(--font-size-paragraph-l)] text-[var(--color-secondary)] leading-relaxed m-0">
            From installation to your first shipped feature. Complete tutorial with copy-paste examples.
          </p>
        </div>
      </div>
    </section>

    <!-- Prerequisites -->
    <section class="py-[var(--spacing-section-md)]">
      <div class="content-max">
        <div class="max-w-[56rem] mx-auto">
          <h2 class="text-[var(--font-size-display-m)] font-bold text-[var(--color-primary)] text-center m-0 mb-[var(--spacing-xl)]">Before You Start</h2>
          <div class="grid grid-cols-[repeat(auto-fit,minmax(min(100%,14rem),1fr))] gap-[var(--spacing-md)] mb-[var(--spacing-lg)] md:grid-cols-1">
            <div class="flex gap-[var(--spacing-sm)] p-[var(--spacing-md)] bg-[var(--color-surface)] border border-[var(--color-border)] rounded-lg">
              <div class="text-2xl flex-shrink-0">‚úÖ</div>
              <div>
                <strong class="block text-[0.9375rem] font-semibold text-[var(--color-primary)] mb-1">Git Repository</strong>
                <p class="text-sm text-[var(--color-secondary)] m-0">Initialized with at least one commit</p>
              </div>
            </div>
            <div class="flex gap-[var(--spacing-sm)] p-[var(--spacing-md)] bg-[var(--color-surface)] border border-[var(--color-border)] rounded-lg">
              <div class="text-2xl flex-shrink-0">‚úÖ</div>
              <div>
                <strong class="block text-[0.9375rem] font-semibold text-[var(--color-primary)] mb-1">Project Structure</strong>
                <p class="text-sm text-[var(--color-secondary)] m-0">src/, package.json, or your framework's structure</p>
              </div>
            </div>
            <div class="flex gap-[var(--spacing-sm)] p-[var(--spacing-md)] bg-[var(--color-surface)] border border-[var(--color-border)] rounded-lg">
              <div class="text-2xl flex-shrink-0">‚úÖ</div>
              <div>
                <strong class="block text-[0.9375rem] font-semibold text-[var(--color-primary)] mb-1">Tech Stack</strong>
                <p class="text-sm text-[var(--color-secondary)] m-0">Established framework (React, Vue, Next.js, Astro, etc.)</p>
              </div>
            </div>
            <div class="flex gap-[var(--spacing-sm)] p-[var(--spacing-md)] bg-[var(--color-surface)] border border-[var(--color-border)] rounded-lg">
              <div class="text-2xl flex-shrink-0">‚úÖ</div>
              <div>
                <strong class="block text-[0.9375rem] font-semibold text-[var(--color-primary)] mb-1">Claude Code</strong>
                <p class="text-sm text-[var(--color-secondary)] m-0">Installed and initialized with /init</p>
              </div>
            </div>
          </div>
          <div class="p-[var(--spacing-md)] bg-[rgba(217,119,87,0.1)] rounded-lg text-center">
            <p class="text-[0.9375rem] text-[var(--color-secondary)] m-0">
              <strong class="text-[var(--color-primary)]">Starting from scratch?</strong> Use your framework's official CLI first (e.g., <code class="text-sm text-[var(--color-accent)] bg-[rgba(217,119,87,0.15)] px-1.5 py-0.5 rounded">npm create vite@latest</code>), then return here.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Tutorial Steps -->
    <section class="py-[var(--spacing-section-xl)]">
      <div class="content-max">
        <div class="max-w-[56rem] mx-auto flex flex-col gap-[var(--spacing-xl)]">
          {steps.map((step) => (
            <div class="flex flex-col gap-[var(--spacing-md)]">
              <div class="flex gap-[var(--spacing-md)] items-start md:flex-col">
                <div class="flex-shrink-0 w-12 h-12 flex items-center justify-center bg-[var(--color-accent)] text-white text-2xl font-bold rounded-full md:w-10 md:h-10 md:text-xl">{step.number}</div>
                <div class="flex-1">
                  <h3 class="text-2xl font-bold text-[var(--color-primary)] m-0 mb-[var(--spacing-xs)]">{step.title}</h3>
                  <p class="text-[0.9375rem] text-[var(--color-secondary)] leading-relaxed m-0">{step.description}</p>
                </div>
              </div>
              <div class="pl-[calc(3rem+var(--spacing-md))] md:pl-0">
                <CodeBlock
                  code={step.code}
                  lang={step.lang}
                />
              </div>
            </div>
          ))}
        </div>
      </div>
    </section>

    <!-- What's Next -->
    <section class="bg-[var(--color-surface)] py-[var(--spacing-section-lg)]">
      <div class="content-max">
        <div class="text-center max-w-[48rem] mx-auto mb-[var(--spacing-xl)]">
          <h2 class="text-[var(--font-size-display-m)] font-bold text-[var(--color-primary)] m-0 mb-[var(--spacing-sm)]">What's Next?</h2>
          <p class="text-[var(--font-size-paragraph-m)] text-[var(--color-secondary)] leading-relaxed m-0">
            You've shipped your first feature. Here's where to go from here.
          </p>
        </div>

        <div class="grid grid-cols-[repeat(auto-fit,minmax(min(100%,16rem),1fr))] gap-[var(--spacing-lg)]">
          <div class="flex flex-col gap-[var(--spacing-sm)] p-[var(--spacing-lg)] bg-[var(--color-background)] border border-[var(--color-border)] rounded-xl">
            <h3 class="text-lg font-bold text-[var(--color-primary)] m-0">üìö Explore All Features</h3>
            <p class="text-[0.9375rem] text-[var(--color-secondary)] leading-relaxed m-0 flex-1">
              Learn about tech stack enforcement, quality validation, autonomous orchestration, and all 28 commands.
            </p>
            <Button href="/features" variant="secondary">
              View Features
            </Button>
          </div>

          <div class="flex flex-col gap-[var(--spacing-sm)] p-[var(--spacing-lg)] bg-[var(--color-background)] border border-[var(--color-border)] rounded-xl">
            <h3 class="text-lg font-bold text-[var(--color-primary)] m-0">üîß Read the Documentation</h3>
            <p class="text-[0.9375rem] text-[var(--color-secondary)] leading-relaxed m-0 flex-1">
              Comprehensive command reference, configuration options, and advanced workflows for complex features.
            </p>
            <Button href="/docs" variant="secondary">
              Read Docs
            </Button>
          </div>

          <div class="flex flex-col gap-[var(--spacing-sm)] p-[var(--spacing-lg)] bg-[var(--color-background)] border border-[var(--color-border)] rounded-xl">
            <h3 class="text-lg font-bold text-[var(--color-primary)] m-0">üìñ Learn from Real Examples</h3>
            <p class="text-[0.9375rem] text-[var(--color-secondary)] leading-relaxed m-0 flex-1">
              See how Feature 015 achieved 76/76 tasks completed and 96.3% test pass rate in a production React app.
            </p>
            <Button href="/use-cases" variant="secondary">
              View Use Cases
            </Button>
          </div>

          <div class="flex flex-col gap-[var(--spacing-sm)] p-[var(--spacing-lg)] bg-[var(--color-background)] border border-[var(--color-border)] rounded-xl">
            <h3 class="text-lg font-bold text-[var(--color-primary)] m-0">‚öôÔ∏è Configure Your Project</h3>
            <p class="text-[0.9375rem] text-[var(--color-secondary)] leading-relaxed m-0 flex-1">
              Fine-tune quality thresholds, performance budgets, and tech stack rules for your specific needs.
            </p>
            <Button
              href="https://github.com/MartyBonacci/specswarm#configuration-optional"
              variant="secondary"
            >
              Configuration Guide
            </Button>
          </div>
        </div>
      </div>
    </section>

    <!-- Common Questions -->
    <section class="py-[var(--spacing-section-lg)]">
      <div class="content-max">
        <div class="text-center max-w-[48rem] mx-auto mb-[var(--spacing-xl)]">
          <h2 class="text-[var(--font-size-display-m)] font-bold text-[var(--color-primary)] m-0 mb-[var(--spacing-sm)]">Common Questions</h2>
        </div>

        <div class="grid grid-cols-[repeat(auto-fit,minmax(min(100%,20rem),1fr))] gap-[var(--spacing-lg)]">
          <div class="p-[var(--spacing-lg)] bg-[var(--color-surface)] border border-[var(--color-border)] rounded-xl">
            <h3 class="text-base font-bold text-[var(--color-primary)] m-0 mb-[var(--spacing-sm)]">When should I use simplified vs. granular workflow?</h3>
            <p class="text-[0.9375rem] text-[var(--color-secondary)] leading-relaxed m-0">
              Use simplified (<code class="text-sm text-[var(--color-accent)] bg-[rgba(217,119,87,0.1)] px-1.5 py-0.5 rounded">/specswarm:build</code> ‚Üí <code class="text-sm text-[var(--color-accent)] bg-[rgba(217,119,87,0.1)] px-1.5 py-0.5 rounded">/specswarm:ship</code>) for 90% of features. Switch to granular (<code class="text-sm text-[var(--color-accent)] bg-[rgba(217,119,87,0.1)] px-1.5 py-0.5 rounded">/specswarm:specify</code> ‚Üí <code class="text-sm text-[var(--color-accent)] bg-[rgba(217,119,87,0.1)] px-1.5 py-0.5 rounded">/specswarm:clarify</code> ‚Üí <code class="text-sm text-[var(--color-accent)] bg-[rgba(217,119,87,0.1)] px-1.5 py-0.5 rounded">/specswarm:plan</code> ‚Üí ...) when you need step-by-step review for complex architectural changes.
            </p>
          </div>

          <div class="p-[var(--spacing-lg)] bg-[var(--color-surface)] border border-[var(--color-border)] rounded-xl">
            <h3 class="text-base font-bold text-[var(--color-primary)] m-0 mb-[var(--spacing-sm)]">How does tech stack enforcement work?</h3>
            <p class="text-[0.9375rem] text-[var(--color-secondary)] leading-relaxed m-0">
              Define approved technologies in <code class="text-sm text-[var(--color-accent)] bg-[rgba(217,119,87,0.1)] px-1.5 py-0.5 rounded">.specswarm/tech-stack.md</code>. During planning, SpecSwarm validates every library and pattern against your stack. If it detects prohibited technologies or drift, it suggests approved alternatives.
            </p>
          </div>

          <div class="p-[var(--spacing-lg)] bg-[var(--color-surface)] border border-[var(--color-border)] rounded-xl">
            <h3 class="text-base font-bold text-[var(--color-primary)] m-0 mb-[var(--spacing-sm)]">What does the --validate flag do?</h3>
            <p class="text-[0.9375rem] text-[var(--color-secondary)] leading-relaxed m-0">
              Adds Playwright browser automation to test your feature in a real browser. Runs alongside implementation to catch UI bugs early. Optional but recommended for features with user interfaces.
            </p>
          </div>

          <div class="p-[var(--spacing-lg)] bg-[var(--color-surface)] border border-[var(--color-border)] rounded-xl">
            <h3 class="text-base font-bold text-[var(--color-primary)] m-0 mb-[var(--spacing-sm)]">Can I use SpecSwarm with existing projects?</h3>
            <p class="text-[0.9375rem] text-[var(--color-secondary)] leading-relaxed m-0">
              Yes! SpecSwarm works with any existing git repository. Run <code class="text-sm text-[var(--color-accent)] bg-[rgba(217,119,87,0.1)] px-1.5 py-0.5 rounded">/specswarm:init</code> to set up project configuration, then start building features. It integrates with your existing workflow seamlessly.
            </p>
          </div>

          <div class="p-[var(--spacing-lg)] bg-[var(--color-surface)] border border-[var(--color-border)] rounded-xl">
            <h3 class="text-base font-bold text-[var(--color-primary)] m-0 mb-[var(--spacing-sm)]">What if quality score is below threshold?</h3>
            <p class="text-[0.9375rem] text-[var(--color-secondary)] leading-relaxed m-0">
              <code class="text-sm text-[var(--color-accent)] bg-[rgba(217,119,87,0.1)] px-1.5 py-0.5 rounded">/specswarm:ship</code> will block the merge and show clear remediation steps. Common fixes: add missing tests, reduce bundle size, fix TypeScript errors. Re-run <code class="text-sm text-[var(--color-accent)] bg-[rgba(217,119,87,0.1)] px-1.5 py-0.5 rounded">/specswarm:ship</code> when ready.
            </p>
          </div>

          <div class="p-[var(--spacing-lg)] bg-[var(--color-surface)] border border-[var(--color-border)] rounded-xl">
            <h3 class="text-base font-bold text-[var(--color-primary)] m-0 mb-[var(--spacing-sm)]">How do I get help?</h3>
            <p class="text-[0.9375rem] text-[var(--color-secondary)] leading-relaxed m-0">
              Check the <a href="/docs" class="text-[var(--color-accent)] underline">documentation</a>, browse <a href="https://github.com/MartyBonacci/specswarm/discussions" target="_blank" rel="noopener noreferrer" class="text-[var(--color-accent)] underline">GitHub Discussions</a>, or open an <a href="https://github.com/MartyBonacci/specswarm/issues" target="_blank" rel="noopener noreferrer" class="text-[var(--color-accent)] underline">issue</a>. The community is active and responsive.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- CTA Section -->
    <section class="bg-[var(--color-background)] py-[var(--spacing-section-xl)]">
      <div class="content-max">
        <div class="max-w-[48rem] mx-auto text-center flex flex-col items-center gap-[var(--spacing-lg)]">
          <h2 class="text-[var(--font-size-display-m)] font-bold text-[var(--color-primary)] m-0">Questions? Feedback?</h2>
          <p class="text-[var(--font-size-paragraph-m)] text-[var(--color-secondary)] leading-relaxed m-0">
            Join the community on GitHub to share your experience, ask questions, or contribute to SpecSwarm development.
          </p>
          <div class="flex gap-[var(--spacing-md)] flex-wrap justify-center md:flex-col md:w-full [&>*]:md:w-full">
            <Button
              href="https://github.com/MartyBonacci/specswarm"
              variant="primary"
              size="lg"
            >
              View on GitHub
            </Button>
            <Button
              href="https://github.com/MartyBonacci/specswarm/discussions"
              variant="secondary"
              size="lg"
            >
              Join Discussions
            </Button>
          </div>
        </div>
      </div>
    </section>
  </main>

  <Footer />
</BaseLayout>
